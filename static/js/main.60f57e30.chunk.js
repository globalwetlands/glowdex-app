(this["webpackJsonpglowdex-app"]=this["webpackJsonpglowdex-app"]||[]).push([[0],{101:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);n(55);var c=n(0),o=n.n(c),i=n(20),a=n.n(i),r=n(12),s=(n(65),n(4)),l=n(13),d=(n(66),n(67),n(17)),j=n(54),u=n(19),p=n(28),b=n.n(p),O=n(3),h=["isSmall"];function x(e){var t=e.isSmall,n=void 0!==t&&t,c=Object(u.a)(e,h),o=n?25:66;return Object(O.jsx)("svg",Object(s.a)(Object(s.a)({className:b.a.spinner,"data-testid":"spinner",width:o,height:o,viewBox:"0 0 ".concat(o," ").concat(o),xmlns:"http://www.w3.org/2000/svg"},c),{},{children:Object(O.jsx)("circle",{className:n?b.a.pathSmall:b.a.path,fill:"none",strokeWidth:o/10,strokeLinecap:"round",cx:o/2,cy:o/2,r:o/2-3})}))}var f=n(14),m=Object(f.b)({name:"globalSettings",initialState:{showMenuHelpText:!0},reducers:{hideMenuHelpText:function(e){e.showMenuHelpText=!1}}}),v=m.actions.hideMenuHelpText,g=m.reducer,w=n(53),S=(n(16),n(29),n(50),n(51),function(){return fetch.apply(void 0,arguments).then((function(e){return e.json()}))});n(89);n(90);var y=["Icon","onClick"];function I(e){var t=e.Icon,n=e.onClick,c=Object(u.a)(e,y);return Object(O.jsx)(t,Object(s.a)({role:"button",onClick:n,onKeyDown:function(e){"Space"!==e.code&&"Enter"!==e.code||n(e)},tabIndex:0,"aria-pressed":"false"},c))}n(91);var C=n(24),k=n(34),M=n.n(k);function N(e){var t=e.title,n=e.modalIsOpen,c=e.setModalIsOpen,o=e.children;function i(){c(!1)}return Object(O.jsxs)(M.a,{isOpen:n,onAfterOpen:function(){},onRequestClose:i,className:"Popup--Modal",overlayClassName:"Popup--Overlay",children:[Object(O.jsxs)("div",{className:"Popup--Modal--Inner",children:[t&&Object(O.jsx)("h3",{className:"Popup--Title",children:t}),Object(O.jsx)("div",{className:"Popup--Content",children:o})]}),Object(O.jsx)(I,{Icon:C.a,className:"Popup--CloseButton",onClick:i})]})}M.a.setAppElement("#root");var _=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Hello World"}),Object(O.jsx)("p",{})]})},W=function(e){return Object(O.jsxs)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e),{},{children:[Object(O.jsx)("circle",{cx:"12",cy:"12",r:"11.5"}),Object(O.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),Object(O.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}))};function H(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(r.c)((function(e){return e.globalSettings.showMenuHelpText}));return Object(O.jsxs)(c.Fragment,{children:[Object(O.jsxs)("div",{className:"Menu--MenuButtonWrap","data-hashelptext":i,children:[Object(O.jsx)(I,{Icon:W,onClick:function(){o(!0)},className:"Menu--MenuButton",title:"Open Menu",tabIndex:1}),Object(O.jsx)("div",{className:"Menu--HelpText",children:"Click on a country to get started"})]}),Object(O.jsx)(N,{title:"Glowdex App",modalIsOpen:n,setModalIsOpen:o,children:Object(O.jsx)(_,{})})]})}var B={id:"data",type:"fill",paint:{"fill-opacity":1,"fill-outline-color":"#212121","fill-color":"rgba(0,0,0,0.3)"}};function T(){var e=Object(c.useRef)(),t=Object(r.b)(),n=Object(c.useState)({latitude:20,longitude:0,zoom:2,minZoom:2}),o=Object(l.a)(n,2),i=o[0],a=o[1],u=Object(c.useState)({}),p=Object(l.a)(u,2),b=p[0],h=p[1],f=function(){var e=Object(w.a)("".concat("","/geojson/grid.geojson"),S),t=e.data,n=(e.error,!t);return{mapFeatures:null===t||void 0===t?void 0:t.features,isLoading:n}}(),m=f.mapFeatures,g=f.isLoading,y=Object(c.useCallback)((function(e){var t=Object(j.a)(e),n=Object(l.a)(t,4),c=n[0],o=n[1],r=n[2],u=n[3],p=new d.f(i).fitBounds([[c,o],[r,u]],{padding:{top:100,bottom:200,right:100,left:100},offset:[0,0]}),b=p.longitude,O=p.latitude,h=p.zoom,x=Object(s.a)(Object(s.a)({},i),{},{longitude:b,latitude:O,zoom:h,transitionDuration:1e3,transitionInterpolator:new d.a});a(x)}),[i]);return Object(O.jsxs)("div",{className:"Map",children:[Object(O.jsxs)(d.b,Object(s.a)(Object(s.a)({},i),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/ejinks-gu/ckhycntp61ol31am7qum156sk?optimize=true",onViewportChange:a,mapboxApiAccessToken:"pk.eyJ1IjoiZWppbmtzLWd1IiwiYSI6ImNrcXVmenRvejA0Njkyb21uNW1ydm51dzgifQ.rZHjw6Z03fu05pAvsJHWGQ",onHover:function(e){var t=e.features,n=e.srcEvent,c=n.offsetX,o=n.offsetY,i=t&&t.find((function(e){return"data"===e.layer.id}));h({hoveredFeature:i,x:c,y:o})},onMouseOut:function(){h({})},onClick:function(e){var n=e.features,c=n&&n.find((function(e){return"data"===e.layer.id}));c&&(y(c),t(v()))},ref:e,getCursor:function(e){return e.isHovering?"pointer":(null===e||void 0===e?void 0:e.isDragging)?"grabbing":(null===b||void 0===b?void 0:b.hoveredFeature)?"crosshair":"grab"},children:[Object(O.jsx)(d.d,{className:"Map--NavigationControl",onViewportChange:a}),Object(O.jsx)(d.e,{type:"geojson",data:{type:"FeatureCollection",features:m},children:Object(O.jsx)(d.c,Object(s.a)({},B))}),function(){var e,t=b.hoveredFeature,n=b.x,c=b.y;if(!t)return null;var o=null===(e=t.properties)||void 0===e?void 0:e.ID,i="".concat(o);return t&&Object(O.jsx)("div",{className:"Map--Tooltip",style:{left:n,top:c},children:Object(O.jsx)("div",{children:Object(O.jsx)("span",{className:"Map--Tooltip--Value",children:i})})})}()]})),Object(O.jsx)("div",{className:"Map--Overlays",children:Object(O.jsx)(H,{})}),g&&Object(O.jsx)(x,{style:{position:"absolute",top:"calc(50% - 33px)",left:"calc(50% - 33px)"}})]})}n(101);var z=["children","onClose"];function A(e){var t=e.children,n=e.onClose,c=Object(u.a)(e,z);return Object(O.jsxs)("div",Object(s.a)(Object(s.a)({className:"Widgets--Box"},c),{},{children:[Object(O.jsx)(I,{Icon:C.a,className:"Widgets--Box--CloseButton",onClick:n}),t]}))}function F(){var e=Object(r.c)((function(e){return e.gridItems.selectedGridItems}));return Object(O.jsx)(O.Fragment,{children:!!(null===e||void 0===e?void 0:e.length)&&Object(O.jsx)("div",{className:"Widgets--Wrap",children:Object(O.jsx)(A,{onClose:function(){},children:Object(O.jsx)("p",{children:"Hello Widgets"})})})})}function G(){return Object(O.jsxs)("main",{children:[Object(O.jsx)(T,{}),Object(O.jsx)(F,{})]})}var L=n(11),E=(n(52),n(7)),J=Object(f.b)({name:"gridItems",initialState:{selectedGridItems:[]},reducers:{setSelectedGridItems:function(e,t){e.selectedGridItems=t.payload}}}),P=(J.actions.setSelectedGridItems,J.reducer),V=Object(E.b)({globalSettings:g,gridItems:P}),Z=Object(f.a)({reducer:V,middleware:Object(f.c)({serializableCheck:{ignoredActions:[L.a,L.f,L.b,L.c,L.d,L.e]}})});Object(L.h)(Z);a.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(r.a,{store:Z,children:Object(O.jsx)(G,{})})}),document.getElementById("root"))},28:function(e,t,n){e.exports={spinner:"Spinner_spinner__1QSjx",rotator:"Spinner_rotator__ldWJL",path:"Spinner_path__B6xE1",dash:"Spinner_dash__3VCIb",colors:"Spinner_colors__3EM4d",pathSmall:"Spinner_pathSmall__1zioJ",dashSmall:"Spinner_dashSmall__2ti9Z"}},55:function(e,t,n){},66:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.60f57e30.chunk.js.map