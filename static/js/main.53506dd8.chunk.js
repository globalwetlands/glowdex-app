(this["webpackJsonpglowdex-app"]=this["webpackJsonpglowdex-app"]||[]).push([[0],{24:function(e,t,a){e.exports={spinner:"Spinner_spinner__1QSjx",rotator:"Spinner_rotator__ldWJL",path:"Spinner_path__B6xE1",dash:"Spinner_dash__3VCIb",colors:"Spinner_colors__3EM4d",pathSmall:"Spinner_pathSmall__1zioJ",dashSmall:"Spinner_dashSmall__2ti9Z"}},25:function(e,t,a){e.exports={main:"App_main__3cTDB",ReactSplitGutterHorizontal:"App_ReactSplitGutterHorizontal__15IR8",ReactSplitDraggerHorizontal:"App_ReactSplitDraggerHorizontal__2flWb"}},47:function(e){e.exports=JSON.parse('[{"dimension":"Habitat Extent Change","indicator":"mang_loss_rate","habitat":"mg","label":"Loss rate","direction":-1,"description":"Instantaneous rate of mangrove extent loss.","":""},{"dimension":"Habitat Extent Change","indicator":"seag_loss_rate","habitat":"sg","label":"Loss rate","direction":1,"description":"Instantaneous rate of seagrass extent change.","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_fish_dens","habitat":"mg","label":"Fish density","direction":1,"description":"Mean mangrove fish density (year of young/year).","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_invert_dens","habitat":"mg","label":"Invertebrate density","direction":1,"description":"Mean mangrove invertebrate density (year of young/year).","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_spec_score","habitat":"mg","label":"Spp threat score","direction":1,"description":"IUCN threatened species score for mangrove-affiliated flora and fauna (higher score = fewer threatened species).","":""},{"dimension":"Ecological Structure and Function","indicator":"salt_spec_score","habitat":"sm","label":"Spp threat score","direction":1,"description":"IUCN threatened species score for saltmarsh-affiliated flora and fauna (higher score = fewer threatened species).","":""},{"dimension":"Ecological Structure and Function","indicator":"seag_spec_score","habitat":"sg","label":"Spp threat score","direction":1,"description":"IUCN threatened species score for seagrass-affiliated flora and fauna (higher score = fewer threatened species).","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_frag_area_mn_rate","habitat":"mg","label":"Fragment rate (area)","direction":1,"description":"Instantaneous rate of change in mean patch area.","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_frag_enn_mn_rate","habitat":"mg","label":"Fragment rate (distance)","direction":-1,"description":"","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_frag_area_mn","habitat":"mg","label":"Fragment (area)","direction":1,"description":"Mean patch area.","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_frag_enn_mn","habitat":"mg","label":"Fragment (distance)","direction":-1,"description":"","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_mean_age","habitat":"mg","label":"Mean age","direction":1,"description":"Mean mangrove persistence (years).","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_mean_agb_mg_ha","habitat":"mg","label":"AGB per ha","direction":1,"description":"Mean mangrove above ground biomass (mg/ha).","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_mean_SOC","habitat":"mg","label":"SOC per ha","direction":1,"description":"Mean mangrove soil organic carbon.","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_mean_height_m","habitat":"mg","label":"Tree height","direction":1,"description":"Mean mangrove canopy height (m).","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_seagrass_climate_current","habitat":"sg","label":"Climate impact","direction":-1,"description":"The current (2013) cumulative climate pressures calculated as the sum of Ocean acidification, Sea surface temperature and Sea level rise pressures (with seagrass ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_seagrass_land_current","habitat":"sg","label":"Land impact","direction":-1,"description":"The current (2013) cumulative land pressure calculated as the sum of Organic chemical pollution, Direct human and Nutrient polution pressures (with seagrass ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_seagrass_marine_current","habitat":"sg","label":"Marine impact","direction":-1,"description":"The current (2013) cumulative marine pressure calculated as the sum of Artisinal fishing, Comercial fishing Pelagic bycatch (low, high), Commercial fishing Demersal non-destructive bycatch (low, high), Commercial fishing Demersal destructive, Light and Shipping  pressures (with seagrass ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_seagrass_climate_rate","habitat":"sg","label":"Climate impact rate","direction":-1,"description":"The instantenous rate of change in cumulative climate pressures from 2003 - 2013 calculated as the sum of Ocean acidification, Sea surface temperature and Sea level rise pressures (with seagrass ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_seagrass_land_rate","habitat":"sg","label":"Land impact rate","direction":-1,"description":"The instantaneous rate of change of cumulative land pressures from 2003 - 2013 calculated as the sum of Organic chemical pollution, Direct human and Nutrient polution pressures (with seagrass ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_seagrass_marine_rate","habitat":"sg","label":"Marine impact rate","direction":-1,"description":"The instantaneous rate of change of cumulative marine pressures from 2003 - 2013 calculated as the sum of Artisinal fishing, Comercial fishing Pelagic bycatch (low, high), Commercial fishing Demersal non-destructive bycatch (low, high), Commercial fishing Demersal destructive, Light and Shipping  pressures (with seagrass ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_mangrove_climate_current","habitat":"mg","label":"Climate impact","direction":-1,"description":"The current (2013) cumulative climate pressures calculated as the sum of Ocean acidification, Sea surface temperature and Sea level rise pressures (with mangrove ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_mangrove_land_current","habitat":"mg","label":"Land impact","direction":-1,"description":"The current (2013) cumulative land pressure calculated as the sum of Organic chemical pollution, Direct human and Nutrient polution pressures (with mangrove ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_mangrove_marine_current","habitat":"mg","label":"Marine impact","direction":-1,"description":"The current (2013) cumulative marine pressure calculated as the sum of Artisinal fishing, Comercial fishing Pelagic bycatch (low, high), Commercial fishing Demersal non-destructive bycatch (low, high), Commercial fishing Demersal destructive, Light and Shipping  pressures (with mangrove ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_mangrove_climate_rate","habitat":"mg","label":"Climate impact rate","direction":-1,"description":"The instantenous rate of change in cumulative climate pressures from 2003 - 2013 calculated as the sum of Ocean acidification, Sea surface temperature and Sea level rise pressures (with mangrove ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_mangrove_land_rate","habitat":"mg","label":"Land impact rate","direction":-1,"description":"The instantaneous rate of change of cumulative land pressures from 2003 - 2013 calculated as the sum of Organic chemical pollution, Direct human and Nutrient polution pressures (with mangrove ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_mangrove_marine_rate","habitat":"mg","label":"Marine impact rate","direction":-1,"description":"The instantaneous rate of change of cumulative marine pressures from 2003 - 2013 calculated as the sum of Artisinal fishing, Comercial fishing Pelagic bycatch (low, high), Commercial fishing Demersal non-destructive bycatch (low, high), Commercial fishing Demersal destructive, Light and Shipping  pressures (with mangrove ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_saltmarsh_climate_current","habitat":"sm","label":"Climate impact","direction":-1,"description":"The current (2013) cumulative climate pressures calculated as the sum of Ocean acidification, Sea surface temperature and Sea level rise pressures (with saltmarsh ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_saltmarsh_land_current","habitat":"sm","label":"Land impact","direction":-1,"description":"The current (2013) cumulative land pressure calculated as the sum of Organic chemical pollution, Direct human and Nutrient polution pressures (with saltmarsh ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_saltmarsh_marine_current","habitat":"sm","label":"Marine impact","direction":-1,"description":"The current (2013) cumulative marine pressure calculated as the sum of Artisinal fishing, Comercial fishing Pelagic bycatch (low, high), Commercial fishing Demersal non-destructive bycatch (low, high), Commercial fishing Demersal destructive, Light and Shipping  pressures (with saltmarsh ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_saltmarsh_climate_rate","habitat":"sm","label":"Climate impact rate","direction":-1,"description":"The instantenous rate of change in cumulative climate pressures from 2003 - 2013 calculated as the sum of Ocean acidification, Sea surface temperature and Sea level rise pressures (with saltmarsh ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_saltmarsh_land_rate","habitat":"sm","label":"Land impact rate","direction":-1,"description":"The instantaneous rate of change of cumulative land pressures from 2003 - 2013 calculated as the sum of Organic chemical pollution, Direct human and Nutrient polution pressures (with saltmarsh ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Cumulative Impacts","indicator":"pressure_saltmarsh_marine_rate","habitat":"sm","label":"Marine impact rate","direction":-1,"description":"The instantaneous rate of change of cumulative marine pressures from 2003 - 2013 calculated as the sum of Artisinal fishing, Comercial fishing Pelagic bycatch (low, high), Commercial fishing Demersal non-destructive bycatch (low, high), Commercial fishing Demersal destructive, Light and Shipping  pressures (with saltmarsh ecosystem multiplier) from Halpern et al. 2019.","":""},{"dimension":"Ecological Structure and Function","indicator":"mang_spec_prop","habitat":"mg","label":"Prop threatened","direction":-1,"description":"Proportion of IUCN threatened species for mangrove-affiliated flora and fauna.","":""},{"dimension":"Ecological Structure and Function","indicator":"salt_spec_prop","habitat":"sm","label":"Prop threatened","direction":-1,"description":"Proportion of IUCN threatened species for saltmarsh-affiliated flora and fauna.","":""},{"dimension":"Ecological Structure and Function","indicator":"seag_spec_prop","habitat":"sg","label":"Prop threatened","direction":-1,"description":"Proportion of IUCN threatened species for seagrass-affiliated flora and fauna.","":""}]')},48:function(e,t,a){e.exports={SliderInput:"SliderInput_SliderInput__2uRuk"}},56:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);a(54),a(55),a(56);var i=a(0),r=a.n(i),s=a(17),n=a.n(s),l=a(4),o=a(39),c=a(28),d=a.n(c),u=(a(69),a(13)),h=a(21),m=a(24),p=a.n(m),g=a(2);function b({isSmall:e=!1,...t}){const a=e?25:66;return Object(g.jsx)("svg",{className:p.a.spinner,"data-testid":"spinner",width:a,height:a,viewBox:`0 0 ${a} ${a}`,xmlns:"http://www.w3.org/2000/svg",...t,children:Object(g.jsx)("circle",{className:e?p.a.pathSmall:p.a.path,fill:"none",strokeWidth:a/10,strokeLinecap:"round",cx:a/2,cy:a/2,r:a/2-3})})}var f=a(7),j=a.n(f),O=a(18);const x=[5,18],v={showMenuHelpText:!0,selectedGridItems:[],numberOfClusters:5,typologyBoxPlotQuantile:.8,enabledHabitats:["mg","sm","sg"]},y=Object(O.b)({name:"globalSettings",initialState:v,reducers:{hideMenuHelpText:e=>{e.showMenuHelpText=!1},setSelectedGridItems:(e,t)=>{e.selectedGridItems=t.payload},setNumberOfClusters:(e,t)=>{const a=t.payload;x.includes(a)&&(e.numberOfClusters=a)},setTypologyBoxPlotQuantile:(e,t)=>{e.typologyBoxPlotQuantile=t.payload},toggleEnabledHabitat:(e,t)=>{const a=t.payload;v.enabledHabitats.includes(a)&&(e.enabledHabitats=j.a.xor(e.enabledHabitats,[a]))}}}),{hideMenuHelpText:w,setNumberOfClusters:I,setTypologyBoxPlotQuantile:_,toggleEnabledHabitat:C,setSelectedGridItems:S}=y.actions;var N=y.reducer,T=a(45),k=a.n(T);function H({minLng:e,minLat:t,maxLng:a,maxLat:i}){return{latitude:(t+i)/2,longitude:(e+a)/2}}function M({latitude:e,longitude:t}){return k()(e,t).format("FFf",{decimalPlaces:1})}const D={id:"gridItems",type:"fill",paint:{"fill-opacity":1,"fill-outline-color":["get","color"],"fill-color":["get","fillColor"]}},E={id:"gridItemsHighlighted",type:"fill",paint:{"fill-opacity":1,"fill-outline-color":["get","color"],"fill-color":["get","color"]}},L={id:"gridItemsSelected",type:"fill",paint:{"fill-opacity":1,"fill-outline-color":["get","color"],"fill-color":["get","color"]}};function A({mapFeatures:e,gridItems:t,clusters:a,isLoading:r}){const s=Object(i.useRef)(),n=Object(l.b)(),o=Object(l.c)((e=>e.globalSettings.selectedGridItems)),[c,d]=Object(i.useState)({latitude:20,longitude:0,zoom:2,minZoom:2}),[m,p]=Object(i.useState)({}),f=Object(i.useCallback)((async(e,t=250)=>{if(!e)return;const[a,i,r,s]=Object(h.a)(e),{longitude:n,latitude:l}=H({minLng:a,minLat:i,maxLng:r,maxLat:s}),o={...c,longitude:n,latitude:l,zoom:5,transitionDuration:t,transitionInterpolator:new u.a};d(o),await async function(e){return new Promise((t=>setTimeout(t,e)))}(t+50)}),[c]),j=Object(i.useMemo)((()=>{var e,t;return["==","ID",(null===m||void 0===m||null===(e=m.feature)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.ID)||!1]}),[m]),O=Object(i.useMemo)((()=>["in",["get","ID"],["literal",o]]),[o]);return Object(g.jsxs)("div",{className:"Map","data-testid":"Map",children:[Object(g.jsxs)(u.b,{...c,width:"100%",height:"100%",mapStyle:"mapbox://styles/ejinks-gu/ckhycntp61ol31am7qum156sk?optimize=true",onViewportChange:d,mapboxApiAccessToken:"pk.eyJ1IjoiZWppbmtzLWd1IiwiYSI6ImNrcXVmenRvejA0Njkyb21uNW1ydm51dzgifQ.rZHjw6Z03fu05pAvsJHWGQ",onHover:e=>{const{features:t,srcEvent:{offsetX:a,offsetY:i}}=e,r=t&&t.find((e=>e.layer.id===D.id));p({feature:r,x:a,y:i})},onMouseOut:()=>{p({})},onClick:async e=>{const{features:t}=e,a=t&&t.find((e=>e.layer.id===D.id));if(a){const{ID:e}=a.properties;await f(a),n(S([e]))}},ref:s,getCursor:e=>e.isHovering?"pointer":(null===e||void 0===e?void 0:e.isDragging)?"grabbing":(null===m||void 0===m?void 0:m.feature)?"crosshair":"grab",children:[Object(g.jsx)(u.d,{className:"Map--NavigationControl",onViewportChange:d}),!r&&Object(g.jsxs)(u.e,{type:"geojson",data:{type:"FeatureCollection",features:e},children:[Object(g.jsx)(u.c,{...D}),Object(g.jsx)(u.c,{...E,filter:j}),Object(g.jsx)(u.c,{...L,filter:O})]}),(()=>{var e,i;const{feature:r,x:s,y:n}=m;if(!r)return null;const l=null===(e=r.properties)||void 0===e?void 0:e.ID,o=null===(i=r.properties)||void 0===i?void 0:i.clusterNumber,c=t.find((e=>parseInt(e.ID)===l)),d=a.find((({n:e})=>e===o));return r&&Object(g.jsxs)("div",{className:"Map--Tooltip",style:{left:s,top:n},children:[Object(g.jsx)("div",{className:"control",children:Object(g.jsxs)("div",{className:"tags has-addons",children:[Object(g.jsx)("span",{className:"tag",children:"ID"}),Object(g.jsx)("span",{className:"tag has-text-weight-bold",children:null===c||void 0===c?void 0:c.ID})]})}),Object(g.jsx)("div",{className:"control",children:Object(g.jsxs)("div",{className:"tags has-addons",children:[Object(g.jsx)("span",{className:"tag",children:"Country"}),Object(g.jsx)("span",{className:"tag has-text-weight-bold",children:null===c||void 0===c?void 0:c.TERRITORY1})]})}),Object(g.jsx)("div",{className:"control",children:Object(g.jsxs)("div",{className:"tags has-addons",children:[Object(g.jsx)("span",{className:"tag",children:"Typology"}),Object(g.jsx)("span",{className:"tag",style:{backgroundColor:d.fillColor,border:`1px solid ${d.color}`,fontWeight:600},children:o})]})})]})})()]}),r&&Object(g.jsx)(b,{style:{position:"absolute",top:"calc(50% - 33px)",left:"calc(50% - 33px)"}})]})}a(71);var F=a(20),R=a(30),P=a.n(R);function B({color:e,alpha:t}){return P()(e).alpha(t).css()}var W=a(46),G=a.n(W),z=a(47);const U=(...e)=>fetch(...e).then((e=>e.json())),V=(...e)=>fetch(...e).then((e=>e.text())).then((e=>async function({csvString:e}){const{data:t}=G.a.parse(e,{header:!0,dynamicTyping:!0});return t}({csvString:e})));const Y=j.a.chain(z).map((function(e){let t="",a="";switch(e.habitat){case"mg":t="Mangrove",a="hsla(0, 66%, 63%, 1)";break;case"sg":t="Seagrass",a="hsla(83, 53%, 59%, 1)";break;case"sm":t="Saltmarsh",a="hsla(161, 53%, 58%, 1)";break;default:t=""}return{...e,habitatLabel:t,habitatColor:a}})).sortBy(["habitat","indicator"]).keyBy("indicator").value(),q=Object.keys(Y);function Q({mapFeatures:e,clusterItems:t,clusters:a,enabledHabitats:i}){return e.reduce((function(e,r){const s=null===t||void 0===t?void 0:t[r.properties.ID];if(!function(e){const t={mg:"mang_presence",sm:"salt_presence",sg:"seag_presence"};return j.a.some(i,(a=>1===e[t[a]]))}(s))return e;const n=a.find((({n:e})=>e===(null===s||void 0===s?void 0:s.cluster))),{color:l,fillColor:o,n:c}=n;return e.push({...r,properties:{...r.properties,clusterNumber:c,color:l,fillColor:o,value:c}}),e}),[])}function $(){const e=Object(l.c)((e=>e.globalSettings.numberOfClusters)),t=Object(l.c)((e=>e.globalSettings.enabledHabitats)),{data:a}=Object(F.a)("/data/grid.geojson",U),{data:r}=Object(F.a)("/data/all-clusters.csv",V),{data:s}=Object(F.a)("/data/grid-items.csv",V),{data:n}=Object(F.a)("/data/grid-items-residuals.csv",V),o=Object(i.useMemo)((()=>s&&n?s.map((e=>{const t=n.find((({ID:t})=>t===e.ID));return{...e,residuals:t}})):[]),[s,n]),c=Object(i.useMemo)((()=>!a||!r),[r,a]),d=Object(i.useMemo)((()=>{if(null===r||void 0===r?void 0:r.length){return function({numberOfClusters:e,allClusters:t}){x.includes(e)||(e=x[0]);const a=`cluster_${e}`,i=`hex_${e}`,r=null===t||void 0===t?void 0:t.map((e=>({ID:parseInt(e.ID,10),cluster:parseInt(null===e||void 0===e?void 0:e[a],10),color:null===e||void 0===e?void 0:e[i],mang_presence:e.mang_presence,salt_presence:e.salt_presence,seag_presence:e.seag_presence}))).filter((e=>!j.a.isNaN(e.cluster)));return j.a.keyBy(r,"ID")}({numberOfClusters:e,allClusters:r})}}),[r,e]),u=Object(i.useMemo)((()=>function({clusterItems:e}){const t=e?Object.values(e):[];return j.a.chain(t).uniqBy("cluster").sortBy("cluster").value().map((({cluster:e,color:t})=>({n:e,color:t,fillColor:B({color:t,alpha:.3})})))}({clusterItems:d})),[d]),h=Object(i.useMemo)((()=>{if(!(null===a||void 0===a?void 0:a.features)||j.a.isEmpty(d)||j.a.isEmpty(u))return[];return Q({clusterItems:d,clusters:u,mapFeatures:null===a||void 0===a?void 0:a.features,enabledHabitats:t})}),[d,u,null===a||void 0===a?void 0:a.features,t]),m=Object(i.useMemo)((()=>function({clusters:e}){const t=e.map((e=>e.color)),a=e.map((e=>e.fillColor)),i=e.map((e=>e.n));return{id:"gridItems",type:"fill",paint:{"fill-opacity":1,"fill-outline-color":["to-color",["at",["index-of",["get","clusterNumber"],["literal",i]],["literal",t]]],"fill-color":["to-color",["at",["index-of",["get","clusterNumber"],["literal",i]],["literal",a]]]}}}({clusters:u})),[u]),p=Object(i.useMemo)((()=>{if(o&&d){return j.a.groupBy(o,(({ID:e})=>{var t;return null===d||void 0===d||null===(t=d[parseInt(e)])||void 0===t?void 0:t.cluster}))}}),[d,o]);return{mapFeatures:h,allClusters:r,clusters:u,clusterItems:d,gridItems:o,isLoading:c,gridLayerStyle:m,gridItemsPerCluster:p}}a(72);var J=a(94),Z=a(52),K=a(48),X=a.n(K);function ee({value:e,onChange:t,debounceMs:a=0,...r}){const[s,n]=Object(i.useState)(e);return Object(J.a)((()=>{t(s)}),a,[s]),Object(g.jsx)(Z.a,{className:X.a.SliderInput,value:s,onChange:e=>n(e),onMouseDown:function(){document.body.dataset.dragging=!0},onMouseUp:function(){document.body.dataset.dragging=!1},...r})}var te=a(92),ae=a(49),ie=a.n(ae),re=a(50),se=a.n(re),ne=a(93);const le=se()(ie.a),oe={displayModeBar:!1},ce={plot_bgcolor:"transparent",paper_bgcolor:"transparent",showlegend:!1,legend:{x:0,y:2},hovermode:!1,margin:{l:200,r:0,t:15,b:15},xaxis:{showticklabels:"true",zeroline:!0,range:[-4,4.1],mirror:"ticks",tickmode:"linear"},yaxis:{showticklabels:!0,tickfont:{size:11}},boxgap:.1};function de(e){var t,a,i;return`${null===(t=Y[e])||void 0===t?void 0:t.habitatLabel} ${null===(a=Y[e])||void 0===a||null===(i=a.label)||void 0===i?void 0:i.toLowerCase()}`}const ue={size:7,symbol:"diamond",color:"#ffaaff",line:{color:"#cc00ff",width:1}};function he({width:e,significantIndicatorColumns:t,gridItems:a,gridItem:i}){const r=Object(l.c)((e=>e.globalSettings.enabledHabitats)),s={mg:1===i.mang_presence,sm:1===i.salt_presence,sg:1===i.seag_presence},n=t.filter((({colName:e})=>{const t=function(e){var t;return null===(t=Y[e])||void 0===t?void 0:t.habitat}(e);return r.includes(t)&&s[t]})),o=(c=n,j.a.groupBy(c,(({colName:e})=>{const t=Y[e];return null===t||void 0===t?void 0:t.dimension})));var c;return{groupedPlots:j.a.chain(o).map(((t,r)=>{const s=t.reverse().map((({colName:e})=>{const t=function(e){var t;return null===(t=Y[e])||void 0===t?void 0:t.habitatColor}(e);return{type:"violin",x:a.map((t=>t.residuals[e])),name:de(e),showlegend:!1,marker:{color:t,size:3},line:{width:1}}})),n=t.map((({colName:e})=>{const t=de(e),a=`Cell ${t}`,r=[t];return{x:[i.residuals[e]],y:r,name:a,showlegend:!1,marker:ue}})),l={x:[null],y:[null],name:"Selected Cell",marker:ue},o=40*t.length+25;return{data:[...s,...n,l],layout:{...ce,width:e,height:o},dimension:r}})).sortBy("dimension").value()}}function me({gridItems:e,gridItem:t,quantileValue:a=.8}){const[i,{width:r}]=Object(ne.a)(),{significantIndicatorColumns:s}=function({quantileValue:e,gridItems:t,columns:a=q}){const i=t.map((e=>e.residuals)),r=a.map((t=>{const a=e=>e[t],r=Object(te.a)(i,.5+e/2,a),s=Object(te.a)(i,.5-e/2,a);return Math.sign(s)===Math.sign(r)?Math.sign(r):0}));return{significantIndicatorColumns:a.map(((e,t)=>({colName:e,significanceFactor:r[t]}))).filter((({significanceFactor:e})=>0!==e))}}({quantileValue:a,gridItems:e}),{groupedPlots:n}=he({significantIndicatorColumns:s,width:r,gridItems:e,gridItem:t});return Object(g.jsxs)("div",{ref:i,style:{width:"100%"},children:[!n.length&&Object(g.jsx)("div",{className:"notification is-warning is-light",children:"No indicators of significance"}),!!n.length&&n.map((({data:e,layout:t,dimension:a},i)=>Object(g.jsxs)("div",{className:"block",children:[Object(g.jsx)("h6",{className:"title is-6 mb-0 is-underlined",children:a}),Object(g.jsx)(le,{data:e,layout:t,config:oe})]},`groupedPlot${a}`)))]})}function pe({selectedGridItemData:e,gridItems:t,clusters:a,gridItemsPerCluster:i}){const r=Object(l.c)((e=>e.globalSettings.typologyBoxPlotQuantile)),s=null===e||void 0===e?void 0:e[0],{TERRITORY1:n,ID:o,clusterNumber:c,color:d,fillColor:u,centerCoords:h}=s,m=a.find((({n:e})=>e===c));return Object(g.jsx)("div",{className:"Widgets--Box--Inner",children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("h3",{children:n}),Object(g.jsx)("h6",{className:"tag",children:M(h)}),Object(g.jsxs)("div",{className:"field is-grouped is-grouped-multiline",children:[Object(g.jsx)("div",{className:"control",children:Object(g.jsxs)("div",{className:"tags has-addons",children:[Object(g.jsx)("span",{className:"tag",children:"ID"}),Object(g.jsx)("span",{className:"tag is-light has-text-weight-bold",children:o})]})}),Object(g.jsx)("div",{className:"control",children:Object(g.jsxs)("div",{className:"tags has-addons",children:[Object(g.jsx)("span",{className:"tag",children:"Typology"}),Object(g.jsx)("span",{className:"tag",style:{backgroundColor:u,border:`1px solid ${d}`,fontWeight:600},children:c})]})})]}),Object(g.jsx)("div",{className:"block",children:Object(g.jsx)(ge,{})}),Object(g.jsx)(me,{cluster:m,gridItems:i[c],gridItem:s,quantileValue:r})]})})}function ge(){const e=Object(l.b)(),t=Object(l.c)((e=>e.globalSettings.typologyBoxPlotQuantile));return Object(g.jsxs)("fieldset",{className:"field",style:{maxWidth:300},children:[Object(g.jsxs)("label",{className:"label",style:{marginBottom:18,whiteSpace:"nowrap"},children:["Quantile for Typology Violin Plot:"," ",Object(g.jsx)("span",{className:"tag",children:t})]}),Object(g.jsx)("div",{className:"control",children:Object(g.jsx)(ee,{min:0,max:.99,step:.05,value:t,onChange:t=>{e(_(t))},"aria-label":"Number of Clusters"})})]})}a(73);function be({clusters:e}){const t=Object(l.b)(),a=Object(l.c)((e=>e.globalSettings.numberOfClusters)),i=Object(l.c)((e=>e.globalSettings.enabledHabitats));function r({title:e,name:a}){return Object(g.jsx)("div",{className:"control",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",name:a,onChange:function(e){const a=e.target.name;t(C(a))},checked:i.includes(a)}),e]})})}return Object(g.jsxs)("div",{className:"MapLegend",children:[Object(g.jsxs)("fieldset",{className:"field",style:{maxWidth:330},children:[Object(g.jsx)("label",{className:"label",children:"Number of Typologies"}),Object(g.jsxs)("div",{className:"control",children:[Object(g.jsxs)("label",{className:"radio",children:[Object(g.jsx)("input",{type:"radio",name:"number_typologies",checked:5===a,"aria-label":"Number of typologies: 5",onChange:()=>{t(I(5))}}),"5"]}),Object(g.jsxs)("label",{className:"radio",children:[Object(g.jsx)("input",{type:"radio",name:"number_typologies",checked:18===a,"aria-label":"Number of typologies: 18",onChange:()=>{t(I(18))}}),"18"]})]})]}),Object(g.jsx)("div",{className:"MapLegend--Display block",children:e.map((e=>Object(g.jsx)("div",{className:"MapLegend--ColourStop",children:Object(g.jsx)("div",{className:"MapLegend--ColourBox",style:{borderColor:e.color,backgroundColor:e.fillColor},children:Object(g.jsx)("span",{className:"MapLegend--Value",children:e.n})})},`ColourStop-${e.n}`)))}),Object(g.jsxs)("fieldset",{className:"field",children:[Object(g.jsx)("label",{className:"label",children:"Habitats"}),Object(g.jsx)(r,{title:"Mangroves",name:"mg"}),Object(g.jsx)(r,{title:"Saltmarsh",name:"sm"}),Object(g.jsx)(r,{title:"Seagrass",name:"sg"})]})]})}a(74);function fe({Icon:e,onClick:t,...a}){return Object(g.jsx)(e,{role:"button",onClick:t,onKeyDown:e=>{"Space"!==e.code&&"Enter"!==e.code||t(e)},tabIndex:0,"aria-pressed":"false",...a})}a(75);var je=a(91),Oe=a(31),xe=a.n(Oe);function ve({title:e,modalIsOpen:t,closeModal:a,children:i}){return Object(g.jsxs)(xe.a,{isOpen:t,onAfterOpen:function(){},onRequestClose:a,className:"Popup--Modal",overlayClassName:"Popup--Overlay",children:[Object(g.jsxs)("div",{className:"Popup--Modal--Inner",children:[e&&Object(g.jsx)("h3",{className:"Popup--Title",children:e}),Object(g.jsx)("div",{className:"Popup--Content",children:i})]}),Object(g.jsx)(fe,{Icon:je.a,className:"Popup--CloseButton",onClick:a})]})}xe.a.setAppElement("body");var ye=a.p+"static/media/fig1.f2937d0d.png";const we=()=>Object(g.jsxs)("div",{className:"content",children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("a",{href:"#about",children:"About"})," | ",Object(g.jsx)("a",{href:"#instructions",children:"Instructions"})," |"," ",Object(g.jsx)("a",{href:"#terminology",children:"Terminology"})," | ",Object(g.jsx)("a",{href:"#license",children:"License"})]}),Object(g.jsx)("h3",{id:"about",children:"About"}),Object(g.jsx)("h4",{id:"global-typologies-of-coastal-wetland-status-to-inform-conservation-and-management-",children:"Global status of coastal wetlands to inform conservation and management."}),Object(g.jsx)("p",{children:"Researchers from all around the world have been recording a wide range of data on the world\u2019s coastal wetlands for decades. For the first time we have brought these global data sets together. We have analysed this data and can now see how our coastal wetlands are faring and where they may be in trouble."}),Object(g.jsx)("p",{children:"We have created a Global Coastal Wetlands Index that you can access using this web app. Our index uses 34 indicators, to provide a full picture of the health of our coastal wetlands. We have quantified the relationships among these indicators to be able to better understand the health of our coastal wetlands."}),Object(g.jsx)("p",{children:"When we look around the world, we start to find similarities in coastal wetlands located in different regions. Coastal wetland sites that share these similar characteristics have been grouped together into what we call a \u2018typology\u2019. This web app is designed to help you explore outputs at two scales: either using 5 or 18 typologies to characterise the world\u2019s coastal wetlands."}),Object(g.jsx)("p",{children:"You can use the web app to see which typology your areas of interest fall into and identify the defining characteristics of that typology. For instance, your typology might have typically high climate-based pressures and high rates of seagrass loss. Sites within the same typology facing similar issues could benefit from knowledge exchange. This Index can inform globally and regionally coordinated conservation and management."}),Object(g.jsxs)("figure",{style:{width:"100%",maxWidth:550},children:[Object(g.jsx)("img",{src:ye,alt:"Figure 1",width:1488,height:1334}),Object(g.jsx)("figcaption",{children:"Figure 1: Flow diagram of the nine key methodological steps used to map and diagnose spatially explicit typologies of coastal wetlands ecosystem conditionstatus applicable at a global scale."})]}),Object(g.jsx)("p",{children:"This web app uses data from the following publications:"}),Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:"Sievers et al. (in review)"}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.mdpi.com/2072-4292/10/10/1669",children:"Bunting et al. 2018"})}),Object(g.jsxs)("li",{children:[Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://onlinelibrary.wiley.com/doi/full/10.1111/geb.12449",children:"Hamilton and Casey 2016"})," ","and"," ",Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/HKGBGS",children:"Hamilton 2015"})]}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.nature.com/articles/s41561-018-0279-1",children:"Simard et al. 2019"})}),Object(g.jsxs)("li",{children:[Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://iopscience.iop.org/article/10.1088/1748-9326/aabe1c/meta",children:"Sanderman et al. 2018"})," ","and"," ",Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/OCYUIT",children:"Sanderman 2017"})]}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0179302",children:"Thomas et al. 2017"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://data.unep-wcmc.org/datasets/7",children:"UNEP-WCMC and Short 2021"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://onlinelibrary.wiley.com/doi/full/10.1111/gcb.15684?casa_token=44d-RcVj8IoAAAAA%3AxQebYugTpkjy5083crKa8kbHW_AwllkUwS4a1t1Pl1ooesL9J7o8LkTbVntJ3aR51-rLxNs-bqBGirB5pw",children:"Dunic et al. 2021"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.pnas.org/content/106/30/12377.short",children:"Waycott et al. 2009"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5515097/",children:"Mcowen et al. 2017"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.iucnredlist.org/",children:"The IUCN Red List of Threatened Species. Version 2020-04"})}),Object(g.jsxs)("li",{children:[Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.nature.com/articles/s41598-019-47201-9",children:"Halpern et al. 2019"})," ","and"," ",Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://knb.ecoinformatics.org/view/doi:10.5063/F12B8WBS",children:"Frazier"})]}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels-monthly-means",children:"Hersbach et al. 2019"})}),Object(g.jsxs)("li",{children:[Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://journals.ametsoc.org/view/journals/clim/30/20/jcli-d-16-0836.1.xml",children:"Huang et al. 2017"})," ","and"," ",Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://journals.ametsoc.org/view/journals/clim/32/9/jcli-d-18-0368.1.xml?tab_body=pdf",children:"Huang et al. 2018"})]}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://rmgsc.cr.usgs.gov/ecosystems/datadownload.shtml",children:"US Geological Survey 2019"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://oceancolor.gsfc.nasa.gov/products/",children:"OceanColour"})}),Object(g.jsxs)("li",{children:[Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.frontiersin.org/articles/10.3389/fmars.2018.00164/full",children:"Vestbo et al. 2018"})," ","and"," ",Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://snd.gu.se/en/catalogue/study/ecds0243",children:"Obst 2017"})]})]}),Object(g.jsxs)("p",{children:[Object(g.jsxs)("strong",{children:["Please cite Sievers et al. ",Object(g.jsx)("em",{children:"(in review) Ecological Indicators"})," if you use outputs from this web app."]})," ","See the individual publications above for details or data on specific indicators."]}),Object(g.jsx)("h3",{id:"instructions",children:"Instructions"}),Object(g.jsxs)("p",{children:["Select the ",Object(g.jsx)("strong",{children:"number of typologies"})," you would like to view (5 or 18). Click on a grid cell (100 x 100 km grid cell) to view information about the typology that cell belongs to. The ",Object(g.jsx)("strong",{children:"violin plot"})," ","shows the spread of values for the range of the grid cells within that typology, displaying indicators that best diagnose and differentiate that typology. The diamond highlights the specific grid cell you\u2019ve clicked on position within the range."]}),Object(g.jsxs)("p",{children:["You can alter the ",Object(g.jsx)("strong",{children:"quantile"})," between 0 and 0.99 to change the threshold for inclusion of an indicator in the violin plot. The higher the quantile is set, the fewer indicators are shown. The more important the indicator in diagnosing the typology, the longer it will remain visible as you increase the quantile."]}),Object(g.jsx)("p",{children:"Occasionally, there will be no indicators shown for higher thresholds (or quantiles). This is because there are no clear defining characteristic for this typology."}),Object(g.jsx)("p",{children:"You can select the type of coastal wetland habitat/s you would like to view -mangrove, saltmarsh, and seagrass. You can select one, two or all three habitats. The world map will only show grid cells where the habitat/s you selected are located."}),Object(g.jsx)("h3",{id:"terminology",children:"Terminology"}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Indicator"})," \u2013 A measure or metric based on verifiable data that conveys information about more than itself; 34 indicators are used in this Index."]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Habitat"})," \u2013 The three coastal wetland ecosystem types in our Index: mangroves, saltmarsh and seagrass."]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Typology"})," \u2013 A group of coastal wetland sites that share similar indicator values (that fall under three categories 'habitat extent change', 'ecological structure and function', or 'cumulative impacts')."]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Quantile"})," \u2013 The threshold for inclusion of indicators in the diagnosis of typologies; drag the quantile higher to show only the most important indicators."]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Violin plot"})," \u2013 Violin plots show the distribution of data; all indicator values within the selected typology are shown, where thicker sections of the violin indicate more grid cells with that indicator value."]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"ID"})," \u2013 The grid cell ID number; each of the 2,845 grid cells are given a unique number."]}),Object(g.jsx)("h3",{id:"license",children:"MIT License"}),Object(g.jsx)("p",{children:"Copyright (c) 2021 The Global Wetlands Project"}),Object(g.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),Object(g.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),Object(g.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'})]}),Ie=e=>Object(g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[Object(g.jsx)("circle",{cx:"12",cy:"12",r:"11.5"}),Object(g.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),Object(g.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});function _e(){const[e,t]=Object(i.useState)(!1);return Object(g.jsxs)(i.Fragment,{children:[Object(g.jsxs)("div",{className:"Menu--MenuButtonWrap","data-hashelptext":!0,children:[Object(g.jsx)(fe,{Icon:Ie,onClick:()=>{t(!0)},className:"Menu--MenuButton",title:"Open Menu",tabIndex:1}),Object(g.jsx)("div",{className:"Menu--HelpText",children:"Click on a grid cell to get started"})]}),Object(g.jsx)(ve,{title:"Global Coastal Wetlands Index App",modalIsOpen:e,closeModal:()=>{window.history.replaceState(null,null,"/"),t(!1)},children:Object(g.jsx)(we,{})})]})}function Ce({children:e,onClose:t,...a}){return Object(g.jsx)("div",{className:"Widgets--Box",...a,children:e})}function Se({mapFeatures:e,gridItems:t,clusters:a,isLoading:r,gridItemsPerCluster:s}){const{selectedGridItemData:n}=function({gridItems:e,mapFeatures:t}){const a=Object(l.c)((e=>e.globalSettings.selectedGridItems));return{selectedGridItemData:Object(i.useMemo)((()=>{const i=t.map((e=>e.properties.ID));return(null===a||void 0===a?void 0:a.length)&&(null===e||void 0===e?void 0:e.length)?a.filter((e=>i.includes(e))).map((a=>{const i=e.find((({ID:e})=>a===parseInt(e))),r=t.find((e=>e.properties.ID===a)),[s,n,l,o]=Object(h.a)(r),c=H({minLng:s,minLat:n,maxLng:l,maxLat:o});return{...i,...(null===r||void 0===r?void 0:r.properties)||{},centerCoords:c}})):[]}),[a,e,t])}}({mapFeatures:e,gridItems:t});return Object(g.jsxs)("div",{className:"Widgets--Wrap",children:[Object(g.jsx)(_e,{}),!r&&Object(g.jsx)(Ce,{children:Object(g.jsx)(be,{clusters:a})}),!!(null===n||void 0===n?void 0:n.length)&&Object(g.jsx)(Ce,{children:Object(g.jsx)(pe,{selectedGridItemData:n,clusters:a,gridItemsPerCluster:s,gridItems:t})})]})}var Ne=a(25),Te=a.n(Ne);const ke=[40,60];function He(){const{mapFeatures:e,gridItems:t,clusters:a,gridItemsPerCluster:i,isLoading:r}=$();return Object(g.jsx)("main",{className:Te.a.main,children:Object(g.jsxs)(d.a,{direction:c.SplitDirection.Horizontal,initialSizes:ke,minWidth:300,gutterClassName:Te.a.ReactSplitGutterHorizontal,draggerClassName:Te.a.ReactSplitDraggerHorizontal,children:[Object(g.jsx)(Se,{mapFeatures:e,gridItems:t,clusters:a,isLoading:r,gridItemsPerCluster:i}),Object(g.jsx)(A,{mapFeatures:e,gridItems:t,clusters:a,isLoading:r})]})})}var Me=a(12),De=a(51),Ee=a.n(De),Le=a(8);const Ae=Object(Le.b)({globalSettings:(({key:e,reducer:t,config:a={}})=>{const i={key:e,storage:Ee.a,...a};return Object(Me.g)(i,t)})({reducer:N,key:"globalSettings",whitelist:["numberOfClusters","typologyBoxPlotQuantile","enabledHabitats"]})}),Fe=Object(O.a)({reducer:Ae,middleware:Object(O.c)({serializableCheck:{ignoredActions:[Me.a,Me.f,Me.b,Me.c,Me.d,Me.e]}})}),Re=Object(Me.h)(Fe);n.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(l.a,{store:Fe,children:Object(g.jsx)(o.a,{loading:null,persistor:Re,children:Object(g.jsx)(He,{})})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.53506dd8.chunk.js.map